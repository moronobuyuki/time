<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å—é¨“ã‚¿ã‚¤ãƒãƒ¼</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #fff;
      font-family: 'Arial', sans-serif;
    }
    #timer, #elapsed, #message {
      font-size: 4vw;
      font-weight: bold;
      margin: 20px 0;
      text-align: center;
    }
    #message {
      color: #444;
    }
    #controls, #toggle-controls {
      margin: 10px 0;
      text-align: center;
    }
    button, select, input[type="datetime-local"] {
      font-size: 1.5rem;
      padding: 0.5rem 1rem;
      border: 2px solid #000;
      border-radius: 10px;
      margin: 0.5rem;
      cursor: pointer;
    }
    button:hover, select:hover {
      background-color: #333;
      color: #fff;
    }
    #timer.urgent, #elapsed.urgent {
      color: red;
      font-size: 5vw;
      transition: color 0.5s, font-size 0.5s;
    }
  </style>
</head>
<body>
  <div id="timer" style="display: none;">ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³: 0æ—¥ 0æ™‚é–“ 0åˆ† 0.0ç§’</div>
  <div id="elapsed" style="display: none;">çµŒéæ™‚é–“: 0æ™‚é–“ 0åˆ† 0ç§’</div>
  <div id="message">æœªæ¥ã‚’å¤‰ãˆã‚‹è¡Œå‹•ã‚’ä»Šå§‹ã‚ã¾ã—ã‚‡ã†ã€‚</div>
  
  <div id="controls">
    <input type="datetime-local" id="datetime-picker" value="2025-02-14T09:00" />
    <button id="start-timer">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
  </div>

  <div id="toggle-controls">
    <select id="view-selector">
      <option value="both">ä¸¡æ–¹è¡¨ç¤º</option>
      <option value="countdown">ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã®ã¿</option>
      <option value="elapsed">çµŒéæ™‚é–“ã®ã¿</option>
    </select>
  </div>

  <script>
    const timerDisplay = document.getElementById('timer');
    const elapsedDisplay = document.getElementById('elapsed');
    const messageDisplay = document.getElementById('message');
    const datetimePicker = document.getElementById('datetime-picker');
    const startButton = document.getElementById('start-timer');
    const viewSelector = document.getElementById('view-selector');
    let intervalId, messageIntervalId;
    let startTime;


    const messages = [
  // æ±ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸50å€‹
  "èª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ğŸŠâ€œ,
  "æ™‚é–“ã¯å¾…ã£ã¦ãã‚Œã¾ã›ã‚“ã€‚ä»Šã™ãè¡Œå‹•ã‚’ï¼",
  "ã‚ãªãŸã®æœªæ¥ã‚’ä½œã‚‹ã®ã¯ä»Šã®åŠªåŠ›ã§ã™ã€‚",
  "ä»Šã€æœ€å–„ã‚’å°½ãã›ã¦ã„ã¾ã™ã‹ï¼Ÿ",
  "ã“ã®ç¬é–“ã®ç©ã¿é‡ã­ãŒæˆåŠŸã‚’ç”Ÿã‚€ã€‚",
  "ä»Šæ—¥ã‚„ã‚‰ãªã‘ã‚Œã°ã€ã„ã¤ã‚„ã‚‹ã®ã§ã™ã‹ï¼Ÿ",
  "æœ€å–„ã®è¡Œå‹•ã¯ã€ä»Šã™ãå§‹ã‚ã‚‹ã“ã¨ã€‚",
  "æ™‚é–“ã¯ã‚ãªãŸã®å‘³æ–¹ã«ã‚‚æ•µã«ã‚‚ãªã‚Šã¾ã™ã€‚",
  "ã‚‚ã†ä¸€æ­©å…ˆã¸é€²ã‚€å‹‡æ°—ã‚’æŒã¨ã†ã€‚",
  "ã‚ãªãŸã®è¡Œå‹•ãŒã€æœªæ¥ã®å¯èƒ½æ€§ã‚’åºƒã’ã‚‹ã€‚",
  "ä»Šã‚’ç„¡é§„ã«ã—ãªã„ã§ãã ã•ã„ã€‚",
  "å¤§ããªç›®æ¨™ã‚‚å°ã•ãªä¸€æ­©ã‹ã‚‰å§‹ã¾ã‚‹ã€‚",
  "é¸æŠã®çµæœãŒæœªæ¥ã‚’å¤‰ãˆã‚‹ã€‚",
  "æ™‚é–“ã‚’åˆ¶ã™ã‚‹è€…ãŒã€äººç”Ÿã‚’åˆ¶ã™ã‚‹ã€‚",
  "ã‚ãªãŸã®ãƒ™ã‚¹ãƒˆã¯ã¾ã å…ˆã«ã‚ã‚Šã¾ã™ã€‚",
  "æœªæ¥ã‚’ä¿¡ã˜ã¦ã€ä»Šã‚’é ‘å¼µã£ã¦ãã ã•ã„ã€‚",
  "è¡Œå‹•ã—ãªã„ç†ç”±ã‚’æ¢ã—ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ",
  "è‡ªåˆ†ã«å³ã—ãã€ç›®æ¨™ã«å„ªã—ãã€‚",
  "æˆåŠŸã™ã‚‹ãŸã‚ã«ã€ä½•ã‚’ã™ã¹ãã§ã™ã‹ï¼Ÿ",
  "ã‚ãªãŸãŒå¤‰ã‚ã‚Œã°ã€ä¸–ç•Œã‚‚å¤‰ã‚ã‚Šã¾ã™ã€‚",
  "ã€Œã‚ã¨å°‘ã—ã€ãŒæˆåŠŸã¸ã®éµã§ã™ã€‚",
  "èª°ã‚‚ãŒåŒã˜24æ™‚é–“ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
  "ã‚ãªãŸã®å¯èƒ½æ€§ã‚’ä¿¡ã˜ã¦ã„ã¾ã™ã€‚",
  "ä¸€ç¬ã®åŠªåŠ›ãŒã€äººç”Ÿã‚’å¤‰ãˆã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚",
  "ä»Šã®åŠªåŠ›ãŒã€æœªæ¥ã®è‡ªåˆ†ã‚’æ•‘ã„ã¾ã™ã€‚",
  "æ¯æ—¥ã®ä¸€æ­©ãŒã€å¤¢ã«è¿‘ã¥ãéµã§ã™ã€‚",
  "æŒ‘æˆ¦ã™ã‚‹ã“ã¨ãŒã€æˆé•·ã®ç¬¬ä¸€æ­©ã€‚",
  "å¾Œæ‚”ã®ãªã„ä¸€æ—¥ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚",
  "ä½•ã‚’å§‹ã‚ã‚‹ã«ã‚‚ã€ä»ŠãŒæœ€é©ãªæ™‚ã§ã™ã€‚",
  "ã‚ãªãŸã®ã‚´ãƒ¼ãƒ«ã¯ã‚‚ã†ã™ããã“ã§ã™ã€‚",
  "ä¸€æ­©ãšã¤ã€ç€å®Ÿã«å‰é€²ã—ã¾ã—ã‚‡ã†ã€‚",
  "è¡Œå‹•ã¯ã€æˆåŠŸã®å”¯ä¸€ã®éµã§ã™ã€‚",
  "æœªæ¥ã‚’å¤‰ãˆã‚‹ãƒãƒ£ãƒ³ã‚¹ã¯ä»Šã“ã“ã«ã‚ã‚Šã¾ã™ã€‚",
  "å°ã•ãªé€²æ­©ãŒå¤§ããªæˆæœã‚’ç”Ÿã‚€ã€‚",
  "è¿·ã†ã‚ˆã‚Šã€ã¾ãšå‹•ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
  "è¨ˆç”»ã™ã‚‹ã ã‘ã§ã¯ãªãã€è¡Œå‹•ã‚’ã€‚",
  "ä»Šã®åŠªåŠ›ãŒã€å¾Œã®è‡ªä¿¡ã«å¤‰ã‚ã‚‹ã€‚",
  "ã©ã‚“ãªå£ã‚‚ã€ä¹—ã‚Šè¶Šãˆã‚‹åŠ›ã‚’ä¿¡ã˜ã¦ã€‚",
  "æˆåŠŸã®é“ã¯ã€ä»Šã“ã®ç¬é–“ã«é–‹ã‹ã‚Œã‚‹ã€‚",
  "æ–°ã—ã„æŒ‘æˆ¦ã¯ã€ã‚ãªãŸã‚’æˆé•·ã•ã›ã¾ã™ã€‚",
  "ä»Šã€è¡Œå‹•ã‚’èµ·ã“ã™ç†ç”±ã¯ä½•ã§ã™ã‹ï¼Ÿ",
  "æ™‚é–“ã‚’ç„¡é§„ã«ã—ãªã„æ±ºæ–­ã‚’ã€‚",
  "æˆåŠŸã®ç§˜è¨£ã¯ã€ã‚ãã‚‰ã‚ãªã„ã“ã¨ã€‚",
  "ã‚ãªãŸãŒè¡Œå‹•ã™ã‚Œã°ã€ã™ã¹ã¦ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚",
  "åŠªåŠ›ã¯ã€å¿…ãšå ±ã‚ã‚Œã¾ã™ã€‚",
  "ãƒãƒ£ãƒ³ã‚¹ã¯ã€è¡Œå‹•ã™ã‚‹äººã«è¨ªã‚Œã¾ã™ã€‚",
  "ã‚ãªãŸã®ä¸€æ­©ãŒæœªæ¥ã‚’å¤‰ãˆã¾ã™ã€‚",
  "ä»Šæ—¥ã®è¡Œå‹•ãŒã€æœªæ¥ã‚’æ±ºã‚ã¾ã™ã€‚",
  "ã©ã‚“ãªå°ã•ãªåŠªåŠ›ã‚‚ã€å¤§åˆ‡ã§ã™ã€‚",
  "çµæœã‚’å‡ºã™ãŸã‚ã«ã¯ã€ä»ŠãŒæœ€é‡è¦ã§ã™ã€‚",
  
  // å—é¨“å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸50å€‹
  "1å•è§£ãã”ã¨ã«æœªæ¥ãŒè¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚",
  "ã‚ãªãŸã®åˆæ ¼ã¯ã“ã®ç¬é–“ã®åŠªåŠ›ã«ã‹ã‹ã£ã¦ã„ã¾ã™ã€‚",
  "ã“ã®10åˆ†ã§è§£ã‘ã‚‹å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ",
  "æ¬¡ã«é€²ã‚€ãŸã‚ã®å£ã‚’è¶…ãˆã‚ˆã†ã€‚",
  "ä»Šæ—¥ã®åŠªåŠ›ãŒã€æ˜æ—¥ã®çµæœã‚’ä½œã‚Šã¾ã™ã€‚",
  "æ™‚é–“ã¯ç„¡é™ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»Šã€é›†ä¸­ã‚’ï¼",
  "åŠªåŠ›ã®ç©ã¿é‡ã­ãŒæˆåŠŸã‚’å¼•ãå¯„ã›ã‚‹ã€‚",
  "ç›®ã®å‰ã®å•é¡Œã«å…¨åŠ›ã§æŒ‘ã‚‚ã†ã€‚",
  "åˆæ ¼ã‚’æ´ã‚€ãŸã‚ã«ã€ä»Šä½•ãŒã§ãã¾ã™ã‹ï¼Ÿ",
  "ã‚ã¨1å•è§£ã‘ã‚Œã°åˆæ ¼ç‚¹ã«è¿‘ã¥ãï¼",
  "è©¦é¨“ã¯ã™ããã“ã€ã‚ãªãŸã®åŠ›ã‚’ä¿¡ã˜ã¦ã€‚",
  "è‹¦æ‰‹ãªå•é¡Œã«ã‚‚æŒ‘æˆ¦ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚‹ã€‚",
  "çµæœãŒå¤‰ã‚ã‚‹ã®ã¯ã€ä»Šã“ã®ç¬é–“ã®è¡Œå‹•ã€‚",
  "å¤±æ•—ã‚’æã‚Œãšã€æŒ‘æˆ¦ã‚’ç¶šã‘ã¾ã—ã‚‡ã†ã€‚",
  "ç›®æ¨™ã«å‘ã‹ã£ã¦ã€æœ€å¾Œã¾ã§è«¦ã‚ãªã„ã§ã€‚",
  "ã“ã®ç¬é–“ã®åŠªåŠ›ãŒã€æœªæ¥ã®æˆåŠŸã«ç¹‹ãŒã‚‹ã€‚",
  "ã‚ã‹ã‚‰ãªã„å•é¡Œã‚’å¾Œå›ã—ã«ã—ã™ãã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ",
  "å‹‰å¼·ã™ã‚‹ã»ã©ã€è‡ªä¿¡ãŒã¤ã„ã¦ãã‚‹ã€‚",
  "ã‚ãªãŸãŒåŠªåŠ›ã‚’æ­¢ã‚ãªã‘ã‚Œã°ã€åˆæ ¼ã‚‚æ­¢ã¾ã‚‰ãªã„ã€‚",
  "ä»Šã‚„ã‚‰ãªã„ã¨ã€å¾Œæ‚”ã™ã‚‹ã®ã¯ã„ã¤ã§ã™ã‹ï¼Ÿ",
  "æ™‚é–“ã‚’æ„è­˜ã—ã¦ã€æœ€çŸ­ã§ã‚´ãƒ¼ãƒ«ã¸ã€‚",
  "è‡ªåˆ†ã®é™ç•Œã‚’ä¿¡ã˜ãªã„ã§ãã ã•ã„ã€‚ãã‚Œã‚’è¶…ãˆã‚‰ã‚Œã‚‹ã€‚",
  "åŠªåŠ›ã¯å˜˜ã‚’ã¤ãã¾ã›ã‚“ã€‚ãã®ã¾ã¾é€²ã‚“ã§ãã ã•ã„ã€‚",
  "è©¦é¨“æ—¥ã¯ã‚ãªãŸã®æˆæœã‚’ç™ºæ®ã™ã‚‹æ—¥ã§ã™ã€‚",
  "ä½•åº¦ã‚‚è§£ãã“ã¨ã§å•é¡ŒãŒè¦‹ãˆã¦ãã‚‹ã€‚",
  "æ™‚é–“é…åˆ†ã‚’å¿˜ã‚Œãšã«ã€æœ€å¾Œã¾ã§é ‘å¼µã£ã¦ã€‚",
  "ä¼‘æ†©ã‚‚å¤§äº‹ã§ã™ãŒã€ä»Šã¯é›†ä¸­ã™ã‚‹æ™‚é–“ã§ã™ã€‚",
  "æ¬¡ã®ä¼‘æ†©ã¾ã§ã€ã‚ã¨å°‘ã—é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚",
  "å¾—ç‚¹æºã‚’ç¢ºå®Ÿã«ç‹™ã†ãŸã‚ã®åŠªåŠ›ã‚’ã€‚",
  "è‹¦æ‰‹ç§‘ç›®ã«æŒ‘ã‚€ã®ãŒåˆæ ¼ã®è¿‘é“ã§ã™ã€‚",
  "ã‚ã¨å°‘ã—ã€è«¦ã‚ãšã«ç¶šã‘ã¦ãã ã•ã„ã€‚",
  "ã‚ãªãŸã¯æœ€å¾Œã¾ã§ã‚„ã‚Šé‚ã’ã‚‰ã‚Œã‚‹åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
  "æœ¬ç•ªã®ç·Šå¼µã«è² ã‘ãªã„è‡ªä¿¡ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚",
  "å‘¨å›²ã®çŠ¶æ³ã‚’æ°—ã«ã›ãšã€è‡ªåˆ†ã«é›†ä¸­ã‚’ã€‚",
  "ä»ŠãŒåˆæ ¼ã¸ã®æœ€å¾Œã®ãƒãƒ£ãƒ³ã‚¹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
  "ç›®æ¨™ç‚¹ã«é”ã™ã‚‹ã¾ã§ã€å…¨åŠ›ã‚’å°½ãã—ã¦ãã ã•ã„ã€‚",
  "ã™ã¹ã¦ã®åŠªåŠ›ã¯ã€çµæœã«ç¹‹ãŒã‚Šã¾ã™ã€‚",
  "è©¦é¨“ã®å£ã‚’çªç ´ã™ã‚‹ç¬é–“ãŒè¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚",
  "å…¨åŠ›ã§å–ã‚Šçµ„ã‚€ã“ã¨ãŒã€æœ€é«˜ã®çµæœã‚’ç”Ÿã‚€ã€‚",
  "æ®‹ã‚Šæ™‚é–“ã‚’æ„è­˜ã—ã¦ã€åŠ¹ç‡ã‚ˆãé€²ã‚ã¾ã—ã‚‡ã†ã€‚",
  "åˆæ ¼ã¯ã€è«¦ã‚ãªã‹ã£ãŸäººã ã‘ã«è¨ªã‚Œã‚‹ã€‚",
  "ã“ã“ã¾ã§é ‘å¼µã£ãŸè‡ªåˆ†ã‚’ä¿¡ã˜ã¦ãã ã•ã„ã€‚",
  "æœ€å¾Œã®10åˆ†ãŒã€é‹å‘½ã‚’åˆ†ã‘ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
  "è©¦é¨“å•é¡Œã‚’è§£ã‘ã‚‹åŠ›ã¯ã€ä»Šã“ã“ã«ã‚ã‚Šã¾ã™ã€‚",
  "ã‚ãªãŸã®åŠªåŠ›ã‚’ã€èª°ã‚ˆã‚Šã‚‚å¿œæ´ã—ã¦ã„ã¾ã™ã€‚",
  "ã‚´ãƒ¼ãƒ«ã¯ã™ããã“ã§ã™ã€‚æœ€å¾Œã¾ã§é§†ã‘æŠœã‘ã¦ï¼",
  "å•é¡Œã®æœ¬è³ªã‚’è¦‹æŠœãåŠ›ã‚’ç£¨ãã¨ãã§ã™ã€‚",
  "æœªæ¥ã®è‡ªåˆ†ãŒã€ä»Šã®ã‚ãªãŸã«æ„Ÿè¬ã—ã¾ã™ã€‚",
  "ä½•ãŒã‚ã£ã¦ã‚‚ã€åˆæ ¼ã¸ã®é“ã‚’ä¿¡ã˜ã¦ï¼"
];

    const colors = [
      "red",    // æœ€åˆã®è‰²
      "orange", 
      "yellow",
      "green", 
      "blue", 
      "purple", 
      "pink",
      "brown", 
      "gray",
      "black"
    ];

    let colorIndex = 0; // è‰²ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

    const updateView = () => {
      const selectedView = viewSelector.value;
      timerDisplay.style.display = selectedView === "both" || selectedView === "countdown" ? "block" : "none";
      elapsedDisplay.style.display = selectedView === "both" || selectedView === "elapsed" ? "block" : "none";
    };

    startButton.addEventListener('click', () => {
      clearInterval(intervalId);
      clearInterval(messageIntervalId);

      const targetTime = new Date(datetimePicker.value).getTime();
      if (isNaN(targetTime)) {
        alert('æœ‰åŠ¹ãªæ—¥æ™‚ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
        return;
      }

      startTime = Date.now();

      intervalId = setInterval(() => {
        const now = Date.now();
        const remainingTime = targetTime - now;
        const elapsedTime = Math.floor((now - startTime) / 1000);

        // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³æ›´æ–°
        if (remainingTime <= 0) {
          timerDisplay.textContent = "ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³: 0æ—¥ 0æ™‚é–“ 0åˆ† 0.0ç§’";
        } else {
          const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));
          const hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = (remainingTime % (1000 * 60)) / 1000;
          timerDisplay.textContent = `ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³: ${days}æ—¥ ${hours}æ™‚é–“ ${minutes}åˆ† ${seconds.toFixed(1)}ç§’`;

          // 30åˆ†ã”ã¨ã«è‰²ã‚’å¤‰æ›´
          const minutesRemaining = Math.floor(remainingTime / (1000 * 60)); // æ®‹ã‚Šåˆ†æ•°
          const newColorIndex = Math.floor(minutesRemaining / 1) % colors.length; // 30åˆ†ã”ã¨ã«è‰²ã‚’å¤‰æ›´

          // è‰²ãŒå¤‰ã‚ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è‰²ã‚’å¤‰æ›´
          if (newColorIndex !== colorIndex) {
            colorIndex = newColorIndex;
            timerDisplay.style.color = colors[colorIndex]; // ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã®è‰²ã‚’å¤‰æ›´
          }
        }

        // çµŒéæ™‚é–“æ›´æ–°
        const elapsedHours = Math.floor(elapsedTime / 3600);
        const elapsedMinutes = Math.floor((elapsedTime % 3600) / 60);
        const elapsedSeconds = elapsedTime % 60;
        elapsedDisplay.textContent = `çµŒéæ™‚é–“: ${elapsedHours}æ™‚é–“ ${elapsedMinutes}åˆ† ${elapsedSeconds}ç§’`;

        // çµŒéæ™‚é–“è‰²å¤‰æ›´
        if (elapsedTime > 3600) { // 1æ™‚é–“ä»¥ä¸ŠçµŒé
          elapsedDisplay.classList.add("urgent");
        } else {
          elapsedDisplay.classList.remove("urgent");
        }
      }, 100);

      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ›´æ–°
      const updateMessage = () => {
        const randomIndex = Math.floor(Math.random() * messages.length);
        messageDisplay.textContent = messages[randomIndex];
      };

      updateMessage();
      messageIntervalId = setInterval(updateMessage, 5 * 60 * 1000);
    });

    viewSelector.addEventListener('change', updateView);
    updateView();
  </script>
</body>
</html>
